<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karma Tree Framework</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

    <div class="container">
        <!-- Input Form -->
        <div class="input-section">
            <h1>Karma Tree Generator</h1>
            <form id="karmaForm">
                <label for="subject">Enter the Subject/Topic:</label>
                <input type="text" id="subject" name="subject" required>
                
                <label for="eventType">Select Event Type:</label>
                <select id="eventType" name="eventType">
                    <option value="individualAction">Individual Actions & Thoughts</option>
                    <option value="peopleRelationships">People & Relationships</option>
                    <option value="processesEvents">Processes/Events</option>
                    <option value="celestialBodies">Celestial Bodies</option>
                    <option value="environmentalFactors">Environmental Factors</option>
                    <option value="spaceTimeEvents">Space-Time Events</option>
                </select>
                
                <label for="startDate">Start Date:</label>
                <input type="date" id="startDate" name="startDate" required>
                
                <label for="endDate">End Date:</label>
                <input type="date" id="endDate" name="endDate" required>
                
                <label for="otherInfluences">Other Influences (optional):</label>
                <textarea id="otherInfluences" name="otherInfluences" placeholder="People, locations, historical moments, etc."></textarea>
                
                <button type="button" onclick="generateKarmaTree()">Generate Karma Tree</button>
            </form>

            <div>
                <label for="timeSlider">Karmic Progression:</label>
                <input type="range" id="timeSlider" min="0" max="100" value="0" step="1">
            </div>
        
            <svg id="karmaTreeSvg" width="800" height="600"></svg>
            <div id="tooltip" class="tooltip"></div>

            <div class="instructions">
                <h3>How to Use the Karma Tree Framework:</h3>
                <p>1. Enter the <strong>Subject or Topic</strong> that you want to analyze. This could be a life decision, project, or event.</p>
                <p>2. Select the <strong>Start Date</strong> and <strong>End Date</strong> to define the timeframe for karmic influences.</p>
                <p>3. Click the <strong>Generate Karma Tree</strong> button to visualize the input-output relationship of karma for the given subject.</p>
                <p>4. Use the <strong>Search Bar</strong> to locate specific actions or outcomes in the tree.</p>
                <p>5. Filter the tree using the <strong>Filter Dropdown</strong> to show only positive or negative karma.</p>
                <p>6. Click <strong>Export as Image</strong> to download the visualization as a PNG file.</p>
            </div>

            <!-- Search Bar -->
            <input type="text" id="search" placeholder="Search nodes...">

            <!-- Filter Dropdown -->
            <select id="filter">
                <option value="all">Show All</option>
                <option value="positive">Positive Karma</option>
                <option value="negative">Negative Karma</option>
            </select>

            <!-- Export Button -->
            <button id="exportButton">Export as Image</button>
        </div>

        <!-- Karma Tree Visualization Section -->
        <div class="visualization-section">
            <h2>Karma Tree</h2>
            <svg id="karmaTreeSvg" width="800" height="500"></svg>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
